# js 类型判断的方式

```javascript
    var foo = 'test';
    var bar = new String('test');

    // 一般用于检测原始值
    // array, null.. 都返回object
    typeof foo // string
    typeof bar // object

    // 一般用于检测引用值
    // 如果变量在iframe中则会失败
    foo instanceof String // false
    bar instanceof String // true

    // 不会一直向原型链上走 
    // null会报错
    foo.constructor == String // true
    bar.constructor == String // true

    // 新开window下 ie会有bug
    // 但已经算是一个比较好的方式了
    Object.prototype.toString.call(foo) == '[Object String]' // true
    Object.prototype.toString.call(bar) == '[Object String]' // true
```
